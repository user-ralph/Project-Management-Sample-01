<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../style-sheets/user-main-page.css" />
    <link rel="icon" href="../image-source/set-web-icon.png" />

    <title>COIS - Download Certificate</title>
  </head>
  <body>
    <nav class="navbar">
      <h4 class="page-title">Scholar Access</h4>
      <div class="profile">
        <input type="text" placeholder="Search..." id="user-search" />
        <i class="bx bx-search"></i>
        <div class="dropdown">
          <a
            class="btn btn-secondary dropdown-toggle"
            href="#"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <img
              class="profile-image"
              src="../image-source/student-icon.png"
              alt=""
            />
            Scholar Tab
          </a>
          <ul class="dropdown-menu">
            <li>
              <a class="dropdown-item" href="user-scholar-status.html"
                >Scholar Status</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="../home-page-user.html">Logout</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <input type="checkbox" id="toggle" />
    <label for="toggle" class="side-toggle"><i class="bx bx-menu"></i></label>

    <div class="sidebar">
      <div class="sidebar-content">
        <ul class="lists">
          <li class="list">
            <a href="user-dashboard-main.html" class="nav-link">
              <i class="bx bxs-dashboard icon"></i>
              <span class="link">Dashboard</span>
            </a>
          </li>
          <li class="list">
            <a href="user-scholar-status.html" class="nav-link">
              <i class="bx bxs-user-account icon"></i>
              <span class="link">Scholar Status</span>
            </a>
          </li>
          <li class="list">
            <a href="user-notification.html" class="nav-link">
              <i class="bx bx-notification icon"></i>
              <span class="link">Notifications</span>
            </a>
          </li>
          <li class="list">
            <a href="user-browse-service.html" class="nav-link">
              <i class="bx bx-category icon"></i>
              <span class="link">Browse Service</span>
            </a>
          </li>
          <li class="list">
            <a href="user-connect-admin.html" class="nav-link">
              <i class="bx bx-message-edit icon"></i>
              <span class="link">Connect Admin</span>
            </a>
          </li>
          <li class="list">
            <a href="user-upload-attachments.html" class="nav-link">
              <i class="bx bx-upload icon"></i>
              <span class="link">Upload Attachments</span>
            </a>
          </li>
          <li class="list">
            <a href="#" class="nav-link">
              <i class="bx bxs-download icon"></i>
              <span class="link">Downlaod CSR</span>
            </a>
          </li>
        </ul>
        <div class="bottom-content">
          <li class="list-bottom">
            <a href="../home-page-user.html" class="nav-link">
              <i class="bx bx-log-out icon"></i>
              <span class="link">Logout</span>
            </a>
          </li>
        </div>
      </div>
    </div>

    <main class="mt-5 pt-3">
      <p class="user-page-title">Download Certificate of Scholarship Renewal</p>
      <nav aria-label="breadcrumb" style="margin-left: 10px">
        <ol class="breadcrumb">
          <li class="breadcrumb-item">
            <a href="user-dashboard-main.html">Dashboard</a>
          </li>
          <li class="breadcrumb-item active" aria-current="page">
            Download CSR
          </li>
        </ol>
      </nav>

      <div class="card mb-2" style="max-width: 100%">
        <div class="row g-0">
          <div class="col-md-4">
            <img
              src="../image-source/sample-avatar.jpg"
              class="img-fluid rounded-start"
              alt="..."
              style="height: 15rem; width: 15rem"
            />
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title user-full-name">Jhon Lloyd Cruz</h5>
              <ul class="list-group list-group-horizontal-xxl">
                <li class="list-group-item">Status:</li>
                <li class="list-group-item">School Year:</li>
                <li class="list-group-item">Program:</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="card" style="width: 18rem">
        <div class="card-body">
          <h5 class="card-title" style="font-weight: bold; color: #0e2b63">
            Download your Document
          </h5>
          <p style="font-size: 15px">
            Verify all the details present in your status before downloading the
            document
          </p>

          <a
            href="#"
            class="btn btn-primary user-download-button"
            id="generateUserPDF"
          >
            <i class="bx bxs-file"></i> Download CSR</a
          >
        </div>
      </div>
    </main>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.8/pdfmake.min.js"
      integrity="sha512-uVTNNXu6Z1rrgpMLuErTMferac7mGwfA7/oXfuGbpSmBqcopa8jCURWE1rBF3LMg7Zir+avOX807eGwHaL7akA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.8/vfs_fonts.min.js"
      integrity="sha512-EFlschXPq/G5zunGPRSYqazR1CMKj0cQc8v6eMrQwybxgIbhsfoO5NAMQX3xFDQIbFlViv53o7Hy+yCWw6iZxA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <script>
      // Function to generate and download the PDF
      function generatePDF() {
        var name = "Jhon Lloyd Cruz";
        var program = "BSCPE-3";
        var schoolYear = "2023 - 2024";
        var currentDate = new Date();
        var formattedDate = currentDate.toLocaleDateString("en-US", {
          year: "numeric",
          month: "long",
          day: "numeric",
        });

        var docDefinition = {
          pageSize: {
            width: 595.28,
            height: "auto",
          }, // Set the page size to A4
          content: [
            { text: "CERTIFICATE OF SCHOLARSHIP RENEWAL", style: "header" },
            {
              text: "Period Covered: 1st Semester SY 2023-2024",
              style: "subHeader",
            },
            "",
            {
              text:
                "THIS IS TO CERTIFY the RENEWAL OF SCHOLARSHIP of " +
                name +
                ", a resident of Cagayan de Oro City, to the City College Scholarship Program with the Course " +
                program +
                " at UNIVERSITY OF SCIENCE AND TECHNOLOGY OF SOUTHERN PHILIPPINES for the First Semester of School Year " +
                schoolYear,
              style: "boldParagraph",
            },
            "",
            {
              text: "This certifies further that the City Government of Cagayan de Oro through the City Treasurer will pay the Tuition, Matriculation, and Other Fees which are relevant or applicable to the Course taken by the said scholar and as billed by the school",
              style: "boldParagraph",
            },
            "",
            {
              text: "This certification is issued upon the request of the above-named student-scholar that he/she is allowed to enroll in your school even without or with minimal down-payment however, the City Government through the City Scholarships Office shall submit an Official Master list of Scholars thirty (30) days after the last day of enrollment",
              style: "boldParagraph",
            },
            "",
            {
              text:
                "Issued this " +
                formattedDate +
                " at the City of Cagayan de Oro, Philippines.",
              style: "paragraph",
            },
            { text: "", margin: [0, 0, 0, 20] }, // 2 space below margin
            {
              text: "MS. RICHEL PETALCURIN-DAHAY\nCity Scholarship Head",
              style: "boldSignature",
            },
            {
              text: "MS. SHEILA B. LUMBATAN\nChief of Staff, Mayor's Office",
              style: "boldSignature",
            },
          ],
          styles: {
            header: {
              fontSize: 18,
              bold: true,
              alignment: "center",
              margin: [0, 0, 0, 20], // Space below margin
            },
            subHeader: {
              fontSize: 14,
              alignment: "center",
              margin: [0, 0, 0, 30], // Space below margin
            },
            boldParagraph: {
              fontSize: 12,
              alignment: "justify",
              margin: [0, 0, 0, 30], // Space below margin
            },
            paragraph: {
              fontSize: 12,
              alignment: "justify",
              margin: [0, 0, 0, 30], // Space below margin
              lineHeight: 1.5, // Set line spacing to 1.5
            },
            boldSignature: {
              fontSize: 12,
              bold: true,
              alignment: "left",
              margin: [0, 0, 0, 40], // Space below margin
            },
            bottomText: {
              fontSize: 8,
              alignment: "left",
              margin: [0, 0, 0, 30], // Space below margin
            },
          },
        };

        // Add the text at the bottom of the PDF
        var bottomText = {
          text: "KEEP THIS CERTIFICATE. YOU WILL BE REQUIRED TO PRESENT THIS IN ALL YOUR DEALINGS WITH THE COLLEGES.",
          style: "bottomText",
        };
        docDefinition.content.push(bottomText);

        pdfMake
          .createPdf(docDefinition)
          .download("Certificate_of_Scholarship_Renewal.pdf");
      }

      // Add event listener for the button click
      document
        .getElementById("generateUserPDF")
        .addEventListener("click", generatePDF);
    </script>
  </body>
</html>
